"use strict";(function(t,i){"function"==typeof define&&define.amd?define([],i):"undefined"!=typeof module&&module.exports?module.exports=i():t.tickerBar=i()})(window||module||{},()=>{function t(t,i){this.elem=t,this.xPos=0,this.ticking=!1,this.recycleOnTick=!1,this.recycledItemLength=0,this.options=void 0!==i?i:{},this.tickerItems=t.children,this.pxPerFrame=void 0!==this.options.pxPerSec?parseFloat(this.options.pxPerSec/60):1,this.autoFill=void 0===this.options.autoFill||this.options.autoFill,this.autoStart=void 0===this.options.autoStart||this.options.autoStart,this.direction=void 0!==this.options.direction?this.options.direction:"left",this.elem.style.overflow="hidden",this.elem.style.position="relative",this.createItemContainer(),this.autoFill&&this.fill(),this.initialize(),!0===this.autoStart&&this.start()}function i(t){if(!t||!t.clientWidth)return 0;const i=window.getComputedStyle(t),e=i&&parseInt(i.marginLeft)||0,s=i&&parseInt(i.marginRight)||0;return parseInt(t.clientWidth)+e+s}function e(t){return t.clientWidth}function s(t){let e=0;for(let s=0;s<t.length;s++)e+=i(t[s]);return e}function n(t){if(!t||0===t.length)return null;let e=t[0];for(let s=0;s<t.length;s++)i(t[s])>i(e)&&(e=t[s]);return e}return t.prototype={createItemContainer:function(){for(this.itemContainer=document.createElement("div"),this.itemContainer.style.display="flex",this.itemContainer.style.position="relative";this.elem.firstChild;)this.itemContainer.appendChild(this.elem.firstChild);this.elem.appendChild(this.itemContainer),this.tickerItems=this.itemContainer.children},initialize:function(){s(this.tickerItems);"right"===this.direction?(this.xPos=-20,this.itemContainer.style.transform="translateX("+this.xPos+"px)"):(this.xPos=0,this.itemContainer.style.transform="translateX("+this.xPos+"px)")},fill:function(){const t=n(this.tickerItems);if(!t)return;const o=e(this.elem);let r=s(this.tickerItems);for(;r<2*o;)for(let t=0;t<this.tickerItems.length&&r<2*o;t++){const e=this.tickerItems[t].cloneNode(!0);this.itemContainer.appendChild(e),r+=i(e)}},start:function(){this.ticking||(this.ticking=!0,this.lastTimestamp=performance.now(),this.tick())},stop:function(){this.ticking=!1},toggle:function(){this.ticking?this.stop():this.start()},setDirection:function(t){if("left"===t||"right"===t){const i=this.ticking;i&&this.stop(),this.xPos=0,this.itemContainer.style.transform="translateX("+this.xPos+"px)",this.direction=t,this.recycleOnTick=!1,i&&this.start()}},tick:function(t){if(this.ticking){if(this.xPos+=this.pxPerFrame,"left"===this.direction){if(this.itemContainer.style.transform="translateX(-"+this.xPos+"px)",this.tickerItems.length>0){const t=this.tickerItems[0],e=i(t);this.xPos>=e&&(this.itemContainer.appendChild(t),this.xPos-=e,this.itemContainer.style.transform="translateX(-"+this.xPos+"px)")}}else if(this.itemContainer.style.transform="translateX("+this.xPos+"px)",this.tickerItems.length>0){const t=this.tickerItems[this.tickerItems.length-1],e=i(t);this.xPos>=e-300&&(this.itemContainer.insertBefore(t,this.tickerItems[0]),this.xPos-=e,this.itemContainer.style.transform="translateX("+this.xPos+"px)")}this.ticking&&window.requestAnimationFrame(this.tick.bind(this))}}},t});